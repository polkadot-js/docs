<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/FAQ" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">FAQ | polkadot{.js}</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://polkadot.js.org/docs/api/FAQ"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FAQ | polkadot{.js}"><meta data-rh="true" name="description" content="The list will be updated/expanded as questions come up, dealing with some common issues that API users find."><meta data-rh="true" property="og:description" content="The list will be updated/expanded as questions come up, dealing with some common issues that API users find."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://polkadot.js.org/docs/api/FAQ"><link data-rh="true" rel="alternate" href="https://polkadot.js.org/docs/api/FAQ" hreflang="en"><link data-rh="true" rel="alternate" href="https://polkadot.js.org/docs/api/FAQ" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.66ff87c9.css">
<link rel="preload" href="/docs/assets/js/runtime~main.5c12e017.js" as="script">
<link rel="preload" href="/docs/assets/js/main.23aa7c4f.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/logo.svg" alt="polkadot{.js}" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/logo.svg" alt="polkadot{.js}" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">polkadot{.js}</b></a></div><div class="navbar__items navbar__items--right"><a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apps UI (Wallet)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/polkadot-js/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/api">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/api/start">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/api/cookbook">Cookbook</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/api/examples/promise">Examples</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/api/FAQ">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/substrate">Metadata</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/derives/">Api Derives</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/keyring">Keyring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/util-crypto">Crypto Utilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/api-contract">Contracts (API)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ui-identicon">Identicon (UI)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ui-keyring">Keyring (UI)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/extension">Extension</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/usage/FAQ">Run, Bundle, Test</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQ</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FAQ</h1></header><p>The list will be updated/expanded as questions come up, dealing with some common issues that API users find.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-am-getting-a-unknown-types-found-no-types-for--error">I am getting a &quot;Unknown types found, no types for ...&quot; error<a href="#i-am-getting-a-unknown-types-found-no-types-for--error" class="hash-link" aria-label="Direct link to I am getting a &quot;Unknown types found, no types for ...&quot; error" title="Direct link to I am getting a &quot;Unknown types found, no types for ...&quot; error">​</a></h2><p>There are 2 causes for this, both related to the version of the API that you are using and the support of types. As explained in the elsewhere, types on Polkadot/Substrate are continuously evolving - the latest version of the API always tries to support types for the latest Polkadot networks, such as <a href="https://kusama.network/" target="_blank" rel="noopener noreferrer">Kusama</a>. So for Polkadot public chains, ensure that you are using the latest released API version.</p><p>If you are connected to a customized chain, you would rather want to <a href="/docs/api/start/types.extend">register the types</a> either on your own, or via packages that the chain vendor provides.</p><p>If however you are running against a master branch of either Polkadot or Substrate, and the type additions are very new and have not made it into an API release yet you may well be better suited running <a href="/docs/api/start/install#betas">a beta version, tracking master</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-am-getting-a-metadata-failed-on-magicnumber-error">I am getting a &quot;Metadata:: failed on MagicNumber&quot; error<a href="#i-am-getting-a-metadata-failed-on-magicnumber-error" class="hash-link" aria-label="Direct link to I am getting a &quot;Metadata:: failed on MagicNumber&quot; error" title="Direct link to I am getting a &quot;Metadata:: failed on MagicNumber&quot; error">​</a></h2><p>Update your version of the API to the <a href="/docs/api/start/install">latest version</a>. Like types, the <a href="/docs/api/start/basics">metadata interfaces</a> are continuously evolving. For instance with the Polkadot Alexander network, only metadata v3 is available. By the time Kusama launched, this has been bumped to v7. As these versions are added to the Polkadot/Substrate codebase, they are added to the API.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-node-returns-a-could-not-convert-error-on-send">The node returns a &quot;Could not convert&quot; error on send<a href="#the-node-returns-a-could-not-convert-error-on-send" class="hash-link" aria-label="Direct link to The node returns a &quot;Could not convert&quot; error on send" title="Direct link to The node returns a &quot;Could not convert&quot; error on send">​</a></h2><p>The typical error that you would see is <code>Verification Error: Execution(ApiError(&quot;Could not convert parameter &#x27;tx&#x27; between node and runtime</code>. This means that the transaction data serialized from the API cannot be deserialized on the node.</p><p>All data transferred between the API and the Node is in a SCALE-encoded binary format, so the <a href="/docs/api/start/types.extend">definition of the types</a> between the API and the node needs to match 100%. When you find the above, it would mean the definition of the types on the API side does not match what is on the node. Specifically the API encodes against the definition, but since there is a mismatch the Node cannot parse the data correctly.</p><p>To fix this, you should look at the specific <code>api.tx.*</code> params and adjust the type definitions for those param types to match what is found on the node side. In some rare cases the cause could be extrinsic formatting related, to track these make an <code>api.tx.system.remark(data: Bytes)</code> call, if it fails, the API and node cannot agree on <a href="/docs/api/start/types.extend#impact-on-extrinsics">an extrinsic format and adjustments are required</a>.</p><p>Also see the next entry for causes related to wrong <code>Address</code> formats.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-cannot-send-transactions-sending-yields-decoding-failures">I cannot send transactions, sending yields decoding failures<a href="#i-cannot-send-transactions-sending-yields-decoding-failures" class="hash-link" aria-label="Direct link to I cannot send transactions, sending yields decoding failures" title="Direct link to I cannot send transactions, sending yields decoding failures">​</a></h2><p>Depending on the chain, you could get either an <code>Address</code> or <code>Signature</code> or extensions decoding error when sending the transaction returned from the node. This is due to a type mismatch on the <code>Address</code> types defined on the node vs what the API uses. This is not something the API can detect via the metadata and it is generally configured on a per-chain basis.</p><p>The API always injects the default type definitions as specified by the Substrate master fully-featured node. This means that any customizations to chains needs to be applied as types, should there be differences in specific user-implementations.</p><p>Due to these customizations and differences that bleed through to the transaction formats, out-of-the-box chains based on the node-template will have issues when sending transactions. To fix this, you would need to add <a href="/docs/api/start/types.extend#impact-on-extrinsics">the customized Address types into your API</a> instances (or UIs), allowing the API to have the information required to adjust the encoding.</p><p>There are 3 <code>Address</code> types that are generally configured in different chains, and one variant should be passed to the <code>Api.create({ ... })</code> <a href="https://polkadot.js.org/docs/api/start/types.extend/#extension" target="_blank" rel="noopener noreferrer">options as types</a> -</p><ul><li><p><code>type Address = MultiAddress</code> (Rust), this is the current default in Substrate master and the API and used in chains such as Polkadot/Kusama from runtime 28. It allows an enhancement to the original <code>Indices</code> lookup, catering for a wide array of address types. To configure this type in the API, use <code>{ &quot;Address&quot;: &quot;MultiAddress&quot;, &quot;LookupSource&quot;: &quot;MultiAddress&quot; }</code></p></li><li><p><code>type Address = &lt;Indices as StaticLookup&gt;::Source</code> (Rust), this is the previous the default as applied in the API and yields types <code>{ &quot;Address&quot;: &quot;IndicesLookupSource&quot;, &quot;LookupSource&quot;: &quot;IndicesLookupSource&quot; }</code> when explicitly specified;</p></li><li><p><code>type Address = AccountId</code> (Rust), this is used in a number of chains such as Kusama/Polkadot (prior to the 28 runtime) and a previous default for the node-template chain as well. To override to this type of Address, use the API types <code>{ &quot;Address&quot;: &quot;AccountId&quot;, &quot;LookupSource&quot;: &quot;AccountId&quot; }</code></p></li></ul><p>The above may also apply when you use <a href="https://github.com/polkadot-js/apps" target="_blank" rel="noopener noreferrer">polkadot-js/apps</a> to connect to your node. Known chains are correctly configured, however any custom chain may need additional types.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-would-like-to-sign-transactions-offline">I would like to sign transactions offline<a href="#i-would-like-to-sign-transactions-offline" class="hash-link" aria-label="Direct link to I would like to sign transactions offline" title="Direct link to I would like to sign transactions offline">​</a></h2><p>The API itself is independent of where the signature comes from and how it is injected. Additionally it implements a signer interface, that can be used for external signing - an example of this is the <a href="https://github.com/polkadot-js/apps" target="_blank" rel="noopener noreferrer">polkadot-js/apps</a> support for signing via extensions and even the <a href="https://github.com/polkadot-js/extension" target="_blank" rel="noopener noreferrer">polkadot-js/extension</a> support for tools such as the <a href="https://github.com/paritytech/parity-signer" target="_blank" rel="noopener noreferrer">Parity Signer</a>.</p><p>As of this writing we don&#x27;t have an explicit example of implementing the signer interface in these docs, although we do use one in <a href="https://github.com/polkadot-js/api/blob/master/packages/api/src/test/SingleAccountSigner.ts" target="_blank" rel="noopener noreferrer">our tests</a>. Additionally, the <a href="https://github.com/polkadot-js/tools" target="_blank" rel="noopener noreferrer">polkadot-js/tools</a> has an implementation of <a href="https://github.com/polkadot-js/tools/tree/master/packages/signer-cli" target="_blank" rel="noopener noreferrer">a very basic offline signer</a> where transactions are generated in one process and signatures in another non-connected process.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-would-like-to-send-a-root-transaction">I would like to send a root transaction<a href="#i-would-like-to-send-a-root-transaction" class="hash-link" aria-label="Direct link to I would like to send a root transaction" title="Direct link to I would like to send a root transaction">​</a></h2><p>Some calls in Polkadot/Substrate can only be submitted as root, these are indicated by <code>ensure_root(origin)</code> in the Rust codebase. Root here does not refer to the actual account, i.e. <code>//Alice</code> on a <code>--dev</code> chain, but rather that it cannot be submitted as a bare user transaction. This restriction applies to chain upgrades, changing balances or anything that modifies the state and/or chain operation.</p><p>To submit these transactions, it needs to be sent as a <a href="/docs/api/start/api.tx.wrap#sudo-use">wrapped transaction</a> via either <code>sudo.sudo</code> (assuming you have access on your chain) or <code>democracy.proposal</code> (which would allow users of the chain to vote on it).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-call-a-function-with-a-tuple-input">How do I call a function with a Tuple input<a href="#how-do-i-call-a-function-with-a-tuple-input" class="hash-link" aria-label="Direct link to How do I call a function with a Tuple input" title="Direct link to How do I call a function with a Tuple input">​</a></h2><p>Tuples, as defined in the Polkadot/Substrate types appear as <code>(TypeA, TypeB)</code>. For instance we may have an <code>(AccountId, u64)</code> input as defined in the metadata or as part of the user types. To specify a Tuple as an input, wrap it in an array format, for instance to call <code>query.module.get((u32, u64))</code> where a <code>(u32, u64)</code> Tuple input is expected, you would do <code>query.module.get([123, 456])</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-long-do-transactions-live">How long do transactions live<a href="#how-long-do-transactions-live" class="hash-link" aria-label="Direct link to How long do transactions live" title="Direct link to How long do transactions live">​</a></h2><p>Polkadot/Substrate supports both immortal and mortal transactions. For immortal, this means that the transaction has an infinite lifetime, for mortals, the transactions expire after a defined period. By default the API sends mortal transactions when no explicit extrinsic era has been specified. This means that all transaction has a limited lifetime and will expire if not included in the period set.</p><p>The length for this transaction validity is set to 5 minutes, calculated based on the blocktime for the chain. (10 blocks per minute in this default 6s Substrate configuration).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="my-chain-does-not-support-systemaccount-queries">My chain does not support system.account queries<a href="#my-chain-does-not-support-systemaccount-queries" class="hash-link" aria-label="Direct link to My chain does not support system.account queries" title="Direct link to My chain does not support system.account queries">​</a></h2><p>The API always tracks the latest Substrate master in terms of examples. This means that nonce &amp; balance queries are done via the <code>api.query.system.account(&lt;account&gt;)</code> which returns a struct <code>{ nonce: Index, data: AccountData }</code> where the <code>data</code> is struct containing the free and reserved balances. As with all <code>api.query.*</code> endpoints, this is decorated based on what the chain you connect to support, via the metadata exchange.</p><p>It is possible that you are connecting to an older chain that has not been upgraded yet. For these chains, this storage entry won&#x27;t be available (yet). To query the nonce on older chains, you can do a query to <code>api.query.system.accountNonce(&lt;account&gt;)</code> and balances can be retrieved via <code>api.query.balances.freeBalance(&lt;account&gt;)</code>.</p><p>Likewise, if your chain has been upgraded recently and you are still using the old <code>system.accountNonce</code> or <code>balances.freeBalance</code> queries in your code (which is now not available in the chain metadata), you need to update it to query the new location.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-non-current-master-node-i-have-issues-parsing-events">Using a non-current-master node, I have issues parsing events<a href="#using-a-non-current-master-node-i-have-issues-parsing-events" class="hash-link" aria-label="Direct link to Using a non-current-master node, I have issues parsing events" title="Direct link to Using a non-current-master node, I have issues parsing events">​</a></h2><p>Recently Substrate master updated the <code>Weight</code> type from <code>u32</code> -&gt; <code>u64</code>. This type is used in the <code>DispatchInfo</code> struct in the <code>system.ExtrinsicSuccess</code> events, to return the applied call weights as well as the resulting fees. Since the API master branch tracks Substrate master, this means the change has been applied by default, with the default set to <code>u64</code>.</p><p>If you are on a chain that has not been upgraded yet, you need to add <code>Weight: &#x27;u32&#x27;</code> to your types to allow for successful parsing of all events. Without this override, parsing will fail. As soon as one event in the <code>Vec&lt;EventRecord&gt;</code> structure from <code>system.events</code> fails to parse, all subsequent events are affected and the decoding will return an error.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="on-a-non-current-non-substrate-20-branch-my-balances-are-wrong">On a non-current, non Substrate 2.0 branch, my balances are wrong<a href="#on-a-non-current-non-substrate-20-branch-my-balances-are-wrong" class="hash-link" aria-label="Direct link to On a non-current, non Substrate 2.0 branch, my balances are wrong" title="Direct link to On a non-current, non Substrate 2.0 branch, my balances are wrong">​</a></h2><p>As part of the Substrate 2.0 release, the <code>RefCount</code> type has been changed from <code> u8</code> to a <code>u32</code>. Since the API always tracks latest Substrate, this change has been applied by default. The impact of this type is that it is used in the <code>AccountInfo</code> type which is returned from <code>system.account</code>, which, in turn, tracks balances.</p><p>If on an older version of the chain, apply the older type via <code>RefCount: &#x27;u8&#x27;</code> to your types.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="which-api-can-i-use-to-query-by-transaction-hash">Which API can I use to query by transaction hash?<a href="#which-api-can-i-use-to-query-by-transaction-hash" class="hash-link" aria-label="Direct link to Which API can I use to query by transaction hash?" title="Direct link to Which API can I use to query by transaction hash?">​</a></h2><p>There is no such API. Substrate does not expose a &quot;query-by-tx-hash&quot; RPC, nor are transactions indexed by hash on the Substrate node. The reason for this is that transaction hashes are non-unique across the chain, although they will generally be unique inside a block.</p><p>For more information around this, refer to the Polkadot wiki <a href="https://wiki.polkadot.network/docs/en/build-protocol-info#unique-identifiers-for-extrinsics" target="_blank" rel="noopener noreferrer">on unique extrinsic identifiers</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="since-upgrading-to-the-7x-series-typescript-augmentation-is-missing">Since upgrading to the 7.x series, TypeScript augmentation is missing<a href="#since-upgrading-to-the-7x-series-typescript-augmentation-is-missing" class="hash-link" aria-label="Direct link to Since upgrading to the 7.x series, TypeScript augmentation is missing" title="Direct link to Since upgrading to the 7.x series, TypeScript augmentation is missing">​</a></h2><p>For TS users, since the 7.x release, type augmentation is not applied by default to the API anymore. This could manifest in various ways,</p><ul><li>query results may just return <code>Codec</code> instead of the actual expected type</li><li>dependent packages, e.g. <code>api-derive</code> or <code>api-contract</code> may yield TS errors</li></ul><p>Historically Substrate-specific types and endpoints were auto-augmented, which worked in 95% of cases, until any known module was changed/extended from default Substrate behavior or types were extended or adjusted from what Substrate exposes. This resulted in any type overrides working in some cases and returning type errors in other critical areas, without a way of adjusting this correctly for the TS compiler.</p><p>Since the start of the 7.x series, type augmentation is to be applied explicitly. To restore Substrate-only types as found earlier versions, an <code>import &#x27;@polkadot/api-augment&#x27;</code> is to be added to your codebase entry point <em>before</em> any imports from the API itself. The various shipped aliases available are the folowing -</p><ul><li><code>import &#x27;@polkadot/api-augment/substrate&#x27;</code> - same as the <code>@polkadot/api-augment</code> form, the default (and what was applied before the 7.x release)</li><li><code>import &#x27;@polkadot/api-augment/kusama&#x27;</code> - applies Kusama types and endpoint augmentation</li><li><code>import &#x27;@polkadot/api-augment/polkadot&#x27;</code> - applies Polkadot types and endpoint augmentation</li></ul><p>For non-Kusama/Polkadot chains, the above imports should be skipped completely and only the augmentation for the specific chain, as published by the teams themselves (generated via the <code>typegen</code> package), should be imported.</p><p>Internally the <code>api-augment</code> when included applies 3 different API augmentations based on the import applied -</p><ul><li>applies all augmentation for tx, query, const, event endpoints for the specific chain</li><li><code>import &#x27;@polkadot/rpc-augment&#x27;</code> - to decorate all RPC endpoints with defaults for Substrate</li><li><code>import &#x27;@polkadot/types-augment&#x27;</code> - applying all generic Substrate types, this includes<ul><li><code>import &#x27;@polkadot/types-augment/lookup&#x27;</code> for Substrate/Kusama/Polkadot lookup types</li><li><code>import &#x27;@polkadot/types-augment/registry&#x27;</code> for Substrate-specific registry types</li></ul></li></ul><p>The above breakdown could be useful to tweak and include <em>some</em> types, while excluding others.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/polkadot-js/docs/edit/master/docs/api/FAQ.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/api/examples/promise/chain-info"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Get chain information</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/substrate"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#i-am-getting-a-unknown-types-found-no-types-for--error" class="table-of-contents__link toc-highlight">I am getting a &quot;Unknown types found, no types for ...&quot; error</a></li><li><a href="#i-am-getting-a-metadata-failed-on-magicnumber-error" class="table-of-contents__link toc-highlight">I am getting a &quot;Metadata:: failed on MagicNumber&quot; error</a></li><li><a href="#the-node-returns-a-could-not-convert-error-on-send" class="table-of-contents__link toc-highlight">The node returns a &quot;Could not convert&quot; error on send</a></li><li><a href="#i-cannot-send-transactions-sending-yields-decoding-failures" class="table-of-contents__link toc-highlight">I cannot send transactions, sending yields decoding failures</a></li><li><a href="#i-would-like-to-sign-transactions-offline" class="table-of-contents__link toc-highlight">I would like to sign transactions offline</a></li><li><a href="#i-would-like-to-send-a-root-transaction" class="table-of-contents__link toc-highlight">I would like to send a root transaction</a></li><li><a href="#how-do-i-call-a-function-with-a-tuple-input" class="table-of-contents__link toc-highlight">How do I call a function with a Tuple input</a></li><li><a href="#how-long-do-transactions-live" class="table-of-contents__link toc-highlight">How long do transactions live</a></li><li><a href="#my-chain-does-not-support-systemaccount-queries" class="table-of-contents__link toc-highlight">My chain does not support system.account queries</a></li><li><a href="#using-a-non-current-master-node-i-have-issues-parsing-events" class="table-of-contents__link toc-highlight">Using a non-current-master node, I have issues parsing events</a></li><li><a href="#on-a-non-current-non-substrate-20-branch-my-balances-are-wrong" class="table-of-contents__link toc-highlight">On a non-current, non Substrate 2.0 branch, my balances are wrong</a></li><li><a href="#which-api-can-i-use-to-query-by-transaction-hash" class="table-of-contents__link toc-highlight">Which API can I use to query by transaction hash?</a></li><li><a href="#since-upgrading-to-the-7x-series-typescript-augmentation-is-missing" class="table-of-contents__link toc-highlight">Since upgrading to the 7.x series, TypeScript augmentation is missing</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/docs/assets/js/runtime~main.5c12e017.js"></script>
<script src="/docs/assets/js/main.23aa7c4f.js"></script>
</body>
</html>